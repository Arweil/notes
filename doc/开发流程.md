## 前言
这是对目前去到的公司的开发流程做一个介绍和对比，以及自己的一些理解。

一般情况下，开发流程应该分为这几个阶段：
1. 需求评审
2. 需求排期
3. 开发阶段（UI稿 + coding阶段）
4. 提测阶段（内测）
5. PD审核
6. 上线发布

第1，2，5，6阶段没有什么过多的不同之处，我目前遇到的差异比较大的在于第3，4这两个阶段，
第3阶段也是根据业务需求，如果是to B的项目可能就是一个偏中后台的东西，一般不会有UI稿。而to C的项目UI要求较高，一般都会有专门的网页设计人员配合。
第4阶段就目前我去的这两家公司差异较大，这里着重讲下。

## 提测环境
飞牛
* beta 测试自己建数据，自己测数据，代码无压缩上beta。
* preview 模拟的线上环境，模拟线上环境，重现线上bug（猜测同服，数据脱敏？），代码压缩上preview。

携程定制
* fat 和飞牛beta类似，代码压缩上fat。
* uat 设计上也是希望能够有一个线上的模拟环境，但是用的数据应该是从线上服导出的数据，数据量较大，所以存在数据脱敏的问题。而且要和其他BU协作，比如去调用机票，酒店的uat数据，但是这些BU并没有这些环境。沟通成本高，这块推不下去。

## Beta(fat)环境
飞牛是单一的beta环境，提测的文件是手动添加的，系统（hephaes）是把手动提交的文件推到服务器中。

携程顶着这边是把代码整体打包整体push到服务器环境，而fat环境可以分成若干个，来对应不用的开发分支。

对比：
* 多个fat环境可以对多个分支进行同时测试。不会存在A同学在提测阶段占用了Beta环境，B同学有一个线上的紧急bug，从主分支重新拉了一条分支，改好了没有beta环境给他测试。
* 分别对比整包push和手动增量push
    * 代码的整包push有一个很明显的问题就是，如果我在上线前发现有一个bug，而且一时半会儿修不好，会影响上线发布的进度。也许会选择代码回推或者直到修好这个bug才能继续发布。整包push会不会随着代码量增加push的速度越来越慢？
    * 而手动提交的增量更新有一个好处就是我可以不提交当前页面的业务代码到服务器，这样bug如果一时半会儿解决不了我们可以不影响其他业务逻辑的上线。增量更新也存在一个问题，那么就是我如何保证我的发布分支是没有问题的。因为这个分支存在bug的话，即使你暂时的剔除，也保证不了这个分支是没有bug的。如果在此基础上面拉了分支，新分支也会受到污染。
